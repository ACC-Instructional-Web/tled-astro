---
import Intro from 'src/components/widgets/Homepage/Intro.astro';
import Layout from 'src/layouts/PageLayout.astro';
import RRCarousel from 'src/components/widgets/Homepage/Carousel/Carousel.jsx';
import CtaEvents from 'src/components/widgets/Homepage/CtaEvents.astro';
import Functions from 'src/components/widgets/Homepage/Functions.astro';
import { carouselData } from 'src/config';

// export const prerender = false;

const metadata = {
  title: 'TLED - Teaching and Learning Excellence Division',
  ignoreTitleTemplate: true,
};

const response = await fetch(carouselData);
const data = await response.json();
---

<Layout metadata={metadata}>
  <!-- Carousel Widget ******************* -->
  <RRCarousel client:load carouselData={data} />

  <!-- Intro Widget ********************** -->
  <Intro />
  <CtaEvents />
  <Functions />
</Layout>
