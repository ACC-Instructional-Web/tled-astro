---
import Layout from '~/layouts/PageLayout.astro';
import RRCarousel from '~/components/widgets/Homepage/Carousel/Carousel.jsx';
import Intro from '~/components/widgets/Homepage/Intro.astro';
import CtaEvents from '~/components/widgets/Homepage/CtaEvents.astro';
import Functions from '~/components/widgets/Homepage/Functions.astro';
import { carouselData } from '~/config';

// export const prerender = false;

const metadata = {
  title: 'TLED - Teaching and Learning Excellence Division',
  ignoreTitleTemplate: true,
};

const response = await fetch(carouselData);
const data = await response.json();
---

<Layout metadata={metadata}>
  <!-- Carousel Widget ******************* -->
  <RRCarousel client:load carouselData={data} />

  <!-- Intro Widget ********************** -->
  <Intro />
  <CtaEvents />
  <Functions />
</Layout>
